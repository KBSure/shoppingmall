<!doctype html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/main_layout">--><html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/main_layout">
<th:block layout:fragment="html_head">
    <title>주문 페이지</title>
</th:block>
<th:block layout:fragment="body_main">
    <br>
    <br>
    <br>
    <main role="main">
        <div class="container">
            <div class="row">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link disabled">장바구니</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active">주문결제</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled">주문완료</a>
                    </li>
                    <li class="nav-item" style="width: 1000px;">
                    </li>
                </ul>
            </div>
            <div class="row">
                <h1 class="my-4 font-weight-bold">주문결제</h1>
            </div>
            <br>
            <form id="order_form">
                <div class="row">
                    <table class="table table-striped text-center">
                        <thead>
                        <tr>
                            <th scope="col" width="20%"></th>
                            <th scope="col" width="40%">상품명</th>
                            <th scope="col" width="15%">수량</th>
                            <th scope="col" width="15%">가격</th>
                            <th scope="col" width="10%"></th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr th:if="${orderInfos != null}" th:each="item : ${orderInfos}">
                                <td>
                                    <img th:width="100px" th:src="@{'/image/'+${item.imageId}}" src="#" alt="img1" class="img-thumbnail" />
                                </td>
                                <td class="justify-content-center align-middle">
                                    <a th:href="@{'/products/'+${item.prdId}}" href="#"><span th:text="${item.productName}"></span></a>
                                </td>
                                <td class="justify-content-center align-middle" th:text="${item.quantity}"></td>
                                <td class="justify-content-center align-middle" th:text="${item.quantity * item.price}"></td>
                                <input type="hidden" name="itemPrice" th:value="${item.quantity * item.price}">
                                <input type="hidden" name="quantity" th:value="${item.quantity}">
                                <input type="hidden" name="productName" th:value="${item.productName}">
                                <input type="hidden" name="prdId" th:value="${item.prdId}" value=""/>
                                <td class="justify-content-center align-middle">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    </table>
                </div>
                <div class="row">
                    결제 금액 : 총 23,700원
                </div>
                <br>
                <div class="row">
                <h3 class="my-4 font-weight-normal">배송정보</h3>
            </div>
                <fieldset class="form-group">
                    <div class="row">
                        <!--<legend class="col-form-label col-sm-2 pt-0">배송지 선택</legend>-->
                        <!--<div class="col-sm-10">-->
                            <!--<div class="form-check">-->
                                <!--<input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1" checked>-->
                                <!--<label class="form-check-label" for="gridRadios1">-->
                                    <!--회원 정보와 동일-->
                                <!--</label>-->
                            <!--</div>-->
                            <!--<div class="form-check">-->
                                <!--<input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">-->
                                <!--<label class="form-check-label" for="gridRadios2">-->
                                    <!--새로운 배송지-->
                                <!--</label>-->
                            <!--</div>-->
                        <!--</div>-->
                    </div>
                </fieldset>
                <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">받으시는 분</label>
                    <div class="col-sm-10">
                        <input type="text" th:value="${member.name}" class="form-control col-3" id="inputName" placeholder="Name">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="inputAddress" class="col-sm-2 col-form-label">주소</label>
                    <div class="col-sm-10">
                        <input type="text" th:value="${member.address.zipcode}" class="form-control col-3" id="inputAddress" placeholder="우편번호">
                        <input type="text" th:value="${member.address.location}" class="form-control my-1" id="inputAddress2" placeholder="지역주소">
                        <input type="text" th:value="${member.address.detail}" class="form-control my-1" id="inputAddress3" placeholder="상세주소">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="inputPhone" class="col-sm-2 col-form-label">전화번호</label>
                    <div class="col-sm-10">
                        <input type="text" th:value="${member.address.phone}" class="form-control" id="inputPhone" placeholder="Phone Number">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="inputEmail" class="col-sm-2 col-form-label">이메일</label>
                    <div class="col-sm-10">
                        <input type="text" th:value="${member.email}" class="form-control" id="inputEmail" placeholder="Email">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="inputMessage" class="col-sm-2 col-form-label">배송메시지</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputMessage" placeholder="">
                    </div>
                </div>
                <div class="row">
                    <h3 class="my-4 font-weight-normal">입금정보</h3>
                </div>
                <div class="form-group row">
                    <label for="inputBank" class="col-sm-2 col-form-label">입금은행</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control-plaintext" readonly id="inputBank" value="좋은은행">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="inputAccount" class="col-sm-2 col-form-label">계좌번호</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control-plaintext" readonly id="inputAccount" value="123-456-7890">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="inputDepositor" class="col-sm-2 col-form-label">입금자명</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputDepositor" placeholder="">
                    </div>
                </div>
                <div class="row justify-content-center">
                    <input id="get_success_btn" type="submit" class="btn btn-primary" value="결제하기">
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <input id="get_cart_btn" type="submit" class="btn btn-secondary" value="뒤로가기">
                </div>
            </form>
        </div>
    </main>
</th:block>
<th:block layout:fragment="footer_script">
    <script>
        $(document).ready(function () {
           $("#get_success_btn").on("click", function (){
               var orderId = 1; //임시
               var successUrl = "/order/" + orderId + "/success";
               $("#order_form").attr("action", successUrl);
               $("#order_form").attr("method", "get");
           });
           $("#get_cart_btn").on("click", function () {
               $("#order_form").attr("action", "/order/cart");
               $("#order_form").attr("method", "get");
           });
        });
    </script>
</th:block>
</html>
